# DATA550 Final Project
# -----------------------------------------------------

## Report Description

This report examines how caffeine intake and alcohol consumption relate to 
average sleep duration, while also setting the stage for exploring broader 
associations between lifestyle behaviors and health metrics.

## Build Report Using Docker
First, ensure your Docker application is running.
Then, in your terminal, navigate to the directory where the project is open.

### Build Docker Image 

(Optional): To build the Docker image for generating the report yourself, run the 
following command from the project root:

```bash
make build_image
```

Alternatively, you can use the Docker image here: https://hub.docker.com/r/mengkhz0/final_report

### Run container
The `final_report` Makefile target runs the Docker container and generates the 
project report. Run the following:

```bash
make final_report
```

This should create a Docker container and build the final report. 
The final report, titled `FinalProject.html` should be found in the `report/` folder.

# -----------------------------------------------------
## Code Descriptions

`code/00_load_data.R`
  - reads in the raw CSV file
  - saves dataset as a `.rds` object in `data/` folder

`code/01_scatterplot.R`
  - plots caffeine x sleep hours with regression lines
  - saves figure as a `.rds` object in `output/` folder

`code/02_regression_table.R`
  - fits a regression model for sleep on caffeine and alcohol consumption
  - creates a table to display model estimates
  - saves model and table as `.rds` objects in `output/` folder

`code/03_render_report.R`
  - renders `FinalProject.Rmd`

`code/FinalProject.Rmd`
  - reads in the data, table, and figures generated by code
  - includes introduction of dataset, analysis of figure and table contents
  
# -----------------------------------------------------

## Generate report using Make

### Sync package repository

Before generating the report, remember to sync the package repository.
To sync the package repository and install all required dependencies, in the terminal run:

```bash
make install
```

This will restore all packages specified in the `renv.lock` file to ensure 
you have the same package versions used in this project.

Alternatively, you can run directly in R:

```r
renv::restore()
```

Once the packages are synchronized, run:

```bash
make 
```

This will build the final report, titled `FinalProject.html`, which can be found 
in the `report/` folder.


